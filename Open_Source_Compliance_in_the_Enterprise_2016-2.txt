第5章

コンプライアンス プロセスとポリシー

本書の目的から、ここでの議論の焦点は、商品におけるオープン ソースとプロプライエタリ（自社開発）やサード パーティ ソースコードとの統合や利用に当てます。ここでの議論では、テストや評価目的など組織内だけで使用されるオープン ソースのためのポリシーやプロセスは除外されますこの章では、基本コンプライアンス プロセスとインクリメンタル コンプライアンス プロセスや、インクリメンタル コンプライアンスを達成するためのガイドラインに加えて、利用ポリシーや利用プロセスを議論します。

ポリシー

利用ポリシーは、コンプライアンス プログラムの不可欠要素です。このポリシーは、長文や複雑なものである必要はありません。単純なポリシーでも、以下の項目を要求するものであれば、複雑なポリシーと同じように効果的であることができます。

. 技術者は、いかなるオープン ソースであっても製品に統合する前には、OSRBから承認を得ることが必要です。. 第3者の会社から受け取るソフトウェアは、含まれているオープン ソースを全て特定しなければなりません。このことは、製品出荷前までのライセンス義務実施を確実にしてくれます。
. 全てのソフトウェアは、監査とレビューを受ける必要があります。これにはプロプライエタリなソフトウェア、サード パーティ プロバイダーから受け取ったソフトウェア、そしてオープン ソース ソフトウェアを含みます。
. 製品は、顧客が受け取る前に、オープン ソース ライセンスの義務を実行しておく必要があります。
. 一つの製品に対する承認は、たとえ同じオープン ソース コンポーネントを使用していても、別の製品への承認とはなりません。
. 全ての変更されたコンポーネントは、承認プロセスを通過しなければなりません。






これらの規則は、いずれのソフトウェア（プロプライエタリ、サード パーティ、オープン ソース）も製品基盤へ導入されるまでに監査され、レビューされ、承認されるということを確実にします。さらに、それは、顧客が製品を受け取る前に、様々なソフトウェア コンポーネントの使用に起因するライセンス義務を実行するための計画を企業が持つことを確実にします。
プロセス

コンプライアンス利用プロセスは、問題となっているソフトウェア パッケージのソースコードのスキャン、発見された課題の特定と解決、法務レビューおよびアーキテクチャ レビューの実施、そのソフトウェア パッケージに対する使用許可に関する判断を含みます。

図14は、コンプライアンス利用プロセスの簡略化された図を示しています。この図は、プロセスの反復的な性質は示していません。より詳しい図は、図17（90ページ）に示します。(page 89).

図14. コンプライアンス利用プロセスの例

ソース コード スキャン

ソース コード スキャン フェーズで、全てのソース コードはソース コード スキャン ツールを使用してスキャンされる。図15(82ページ)は、ソース コード スキャンを開始する起因を示しています。それらは、





. 通常、技術スタッフによって記入されるOSRB利用フォームの到着。これは、技術者や開発者が問題となっているソース コードについての基本情報を提供するために記入する簡単なオンラインのフォームです。フォームの提出によって、（JIRAやBugzillaなどのシステムで）コンプライアンス チケットが自動的に生成され、ソース コード スキャン要求が監査スタッフへ送られます。. 定期的に計画された全プラットフォーム スキャン：こうしたスキャンは、ソフトウェア プラットフォームにOSRBフォーム無しで忍び込んでいるかもしれないオープン ソースを明らかにするのに非常に役に立ちます。. 前に承認されたソフトウェア コンポーネントに対する変更：多くの場合、技術スタッフは特定のバージョンのOSS コンポーネントを評価やテストしており、新しいバージョンが利用可能になった時にそのコンポーネントを採用します。
. オープン ソースを開示しているかわからないサード パーティ ソフトウェア プロバイダーから受け取ったソース コード。作者やライセンスが不明であり、オープン ソースが含まれているかもしれないし含まれていないかもしれない、Webからダウンロードしたソース コード。ビルドシステムに新しいプロプライエタリ ソフトウェア コンポーネントが入ること。技術者がオープン ソース コードを模倣しているかもしれないし、プロプライエタリ ソフトウェアに使っているかもしれません。





 



図15. ソース コード スキャンを開始するイベント

法務レビューへの準備の中で、ソース コード スキャンを実施する担当者は、著作権や属性を表記しているファイルに加えて、COPYING, README, LICENSEファイルなど、パッケージで見つかった全てのライセンス情報にコンプライアンス チケットを付けておくべきです。
特定と解決

特定と解決フェーズで、監査チームは、スキャン ツールで[課題有りの]フラグをつけられたファイルやコード断片を検査し[課題を]解決します。
法務レビュー
法務レビュー フェーズでは、法務担当（OSRBメンバー）は、スキャン ツールによって生成された報告や、ソフトウェア コンポーネントのライセンス情報や、技術者やOSRBメンバーによってコンプライアンス チケットに記載されたコメントをレビューします。ライセンスに問題が無いならば、法務担当は、ソフトウェア コンポーネントについて入ってくるライセンスと出ていくライセンスを決定し、コンプライアンス アーキテクチャ レビュー フェーズへコンプライアンス チケットを進めます。例えば非互換のライセンスをもつソース コードを組み合わせているなど、ライセンスに課題が発見されたときには、法務担当はこれらの課題にフラグをつけて、コードの再作業のためにコンプライアンス チケットを技術担当へ再割り当てします。ライセンス情報が不明確である、ライセンス情報が入手できない等、いくつかの場合には、法務担当は、不明瞭な点を明確にし、特定のソフトウェアに付与されているライセンスの確認をするために、[外部の]プロジェクトのメインテナーやオープン ソース開発者にコンタクトします。

アーキテクチャ レビュー
アーキテクチャ レビューの中では、コンプライアンス オフィサーとOSRB技術代表は、オープン ソースとプロプライエタリ、およびサード パーティ コードの間の相互関係を解析します。これは、特定されたアーキテクチャ図を検査することで実行されます。

. オープン ソース コンポーネント (そのままで利用、又は変更して利用) . プロプライエタリ コンポーネントサード パーティ ソフトウェア プロバイダー由来のコンポーネントコンポーネントの依存状態通信プロトコル特に、異なるオープン ソース ライセンスによって管理されているような場合で、特定のソフトウェア コンポーネントが相互作用する、または依存する、他のオープン ソース パッケージ。


アーキテクチャ レビューの結果が、オープン ソースからプロプライエタリやサード パーティ ソフトウェア コンポーネントへと、（同様にオープン ソース コンポーネント間でも）影響を与えるライセンス義務の分析となります。コンプライアンス オフィサーが、例えば、プロプライエタリ ソフトウェア コンポーネントとGPLでライセンスされたコンポーネントがりんくされているというような、何か課題を見つけたら、コンプライアンス オフィサーは解決のためにコンプライアンス チケットを技術担当へ送ります。課題が無いならば、コンプライアンス オフィサーは、チケットを承認プロセスの最終段階へ送ります。 




最終レビュー

最終レビューは、通常はOSRBメンバが集まる形式の[フェース ツー フェース]会議で行い、OSRBは[そのコンポーネントの]使用の許可または却下を決めます。ほとんどのケースでは、ソフトウェア コンポーネントが最終レビューの段階まで到達したら、（そのソフトウェア コンポーネントがもう使われていないなどの）条件が現れない限り、そのコンポーネントは承認されるでしょう。承認されたら、コンプライアンス オフィサーは、承認されたソフトウェア コンポーネントのライセンス義務リストを準備し、義務実行のために適当な部署へ送ります。
プロセスの各ステージにおけるインプットとアウトプット

この節では、図16で示されるOSRB利用プロセスの5つのフェーズにおけるインプットとアウトプットについて議論します。これらの段階は、説明のためのものであって、実際のシナリオとは正確には一致しないかもしれません。 


図16利用プロセスのインプットとアウトプット





ソース コード スキャン段階

インプット

スキャン フェーズへのインプットは、技術者がオンラインで記入して提出するOSRB利用フォームとなります。表6 (98ページ)はフォームの詳細です。問題となっているオープン ソース コンポーネントに関する情報が、ソース コード リポジトリ システムの中でのソース コードの位置も含めて、全て含んでいます。定期的な全プラットフォーム スキャンは、対応するOSRBフォーム無しにプラットフォームに入ってくるソフトウェア コンポーネントが無いことを確実にするために、数週間に1回実施されるべきです。

アウトプット

スキャン フェーズからのアウトプットは、ソース コード スキャン ツールによって生成された報告です。これには、次のような情報が書かれます。

. 利用されている既知のソフトウェア コンポーネント、ソフトウェア構成リスト（BoM）として知られているもの影響があるライセンス、ライセンス文、義務の要約法務担当によって検証されるべきライセンス不整合ファイル一覧表特定されたファイル依存関係[他のコードとの]コード一致状態特定保留中のファイル特定保留中の[他のコードとの]ソース コード一致






特定と解決フェーズ

インプット

このフェーズへのインプットは、前フェーズでスキャン ツールによって生成された報告書になります。この報告書は、不整合を起こしているライセンスや非互換ライセンスなどのような課題についてフラグを付けます。課題がないならば、コンプライアンス オフィサーは、コンプライアンス チケットを法務レビュー フェーズへと進めます。. 解決すべき課題がある時には、コンプライアンス オフィサーは、コンプライアンス チケットにサブタスクを設定し、解決のために適切な技術者に担当を当てます。ある場合にはコードの再作業が必要となりますし、別の場合には単に[課題を]明確にするだけで解決することもあります。サブタスクは、課題の説明、技術担当によって実施されるべき解決提案、そして完了までの具体的な日程を含んでいるべきです。

アウトプット

このフェーズでは、サブタスクはクローズされて、全ての課題の解決がアウトプットとなります。コンプライアンス オフィサーは、ソース コードの再スキャンを依頼してスキャン報告書を作成し、前に上がっていた課題が解決済みになっていることを確認するかもしれません。コンプライアンス オフィサーは、レビューと承認を受けるために、コンプライアンス チケットを[OSRB内の]法務代表へ送ります。

法務レビュー
インプット

コンプライアンス チケットが法務レビュー フェーズへ届いた時には、コンプライアンス チケットは以下を含んでいます。

. ソース コード スキャン報告、スキャン フェーズで発見された課題が全て解決済みであることの確認
. チケットに付けられたライセンス情報のコピー。通常、コンプライアンス オフィサーは、ソース コード パッケージに含まれているREADME, COPYING, AUTHORSなどのファイルをコンプライアンス チケットに付与します。OSSコンポーネントに関してCOPYING, LICENSEファイルに含まれるライセンス情報以外にも、著作権や属性情報を入手することが必要です。この情報は、製品ドキュメントに適切に入れられます。. コンプライアンス チケットに関するコンプライアンス オフィサーからの（懸念点や追加の質問などの）フィードバック
. OSRBの技術代表や、内部的にこのパッケージを担当・保守する技術者（パッケージのオーナー）からのフィードバック


アウトプット

このフェーズのアウトプットは、コンプライアンスに関する法務の意見、問題となっているソフトウェア コンポーネントについての入る[使用許諾される]ライセンスと出る[使用許諾する]ライセンスに対する決定となります。ソフトウェア コンポーネントは、異なるライセンスによって許諾されるソース コードを含むことがあるので、入る[使用許諾される]ライセンスと出る[使用許諾する]ライセンスは、複数のフォーム入ることがあります。

入る[使用許諾される]ライセンス、出る[使用許諾する]ライセンス

入るライセンスは、受け取ったソフトウェア パッケージに対するライセンスです。出るライセンスは、ライセンスするソフトウェア パッケージに対するライセンスです。あるケースでは、入るライセンス（BSDのように）が再許諾を許すような許容型ライセンスである場合には、企業はそのソフトウェアを企業独自[プロプライエタリ]ライセンスで再許諾します。より複雑な例としては、プロプライエタリ ソース コード、ライセンスAで許諾されているがライセンスBでも許諾可能なソース コード、ライセンスCで許諾されたソース コードが含まれるものがあります。法務レビューの間、法務担当は入るライセンスと出るライセンスを決める必要があります。

入るライセンス = プロプライエタリ ライセンス + ライセンスA + ライセンスB + ライセンス
出るライセンス = ?





アーキテクチャ レビュー

アーキテクチャ レビューの目的は、オープン ソース コードとサード パーティ、プロプライエタリ コードの間の相互作用を解析することです。アーキテクチャ レビューの結果は、オープン ソース コンポーネントがプロプライエタリ コンポーネントへ影響するかもしれないライセンス義務の分析です。企業内のパッケージ オーナー、OSRB技術代表とコンプライアンス オフィサーが、通常アーキテクチャ レビューを実施します。もしライセンス不整合になるような依存関係を特定した場合、コンプライアンス オフィサーは、ソース コードの再作業によって依存関係問を題解決するためにチケットを技術担当に発行する。
インプット

監査されたソース コード、解決されている全ての課題。

アウトプット

OSRBメンバは、特定のコンポーネントに対してアーキテクチャ レビューを実施し、次のステップ（つまり最終承認）への準備が整っているという印をつけます。

最終承認フェーズ

インプット

このフェーズへのインプットは、ソフトウェア コンポーネントに関する全部のコンプライアンス記録です。それには以下が含まれます。

. スキャン ツールによって生成されたソース コード スキャン報告発見された課題、課題が解決された経緯に関する情報、課題が解決されたことを確認した人アーキテクチャ図、ソフトウェア コンポーネントが他のソフトウェア コンポーネントとどのように相互作用するかの情報 





. コンプライアンスに関する法務の意見、入るライセンスと出るライセンスに関する決定組み込み環境(C/C++)で適用可能であれば、動的、静的リンクの解析 

アウトプット

このフェーズのアウトプットは、ソフトウェア コンポーネントの利用に関する、承認または却下の判断です。

詳細な利用プロセス

勿論、コンプライアンス手順に影響を与える多くの事情があります。図17（次ページ）は、いくつかの可能なシナリオと、コンプライアンス プロセスにおいてあるステップから別のステップへどのように状態遷移するかについて、詳細なプロセスを示しています。8つの可能なプロセスを議論します。これらのシナリオは、相互に排他的ではありませんし、唯一の可能なプロセスでもありませんが、イメージを示して議論するために提示してあります。
シナリオ1：スキャンされたソース コードは、100%プロプライエタリである
シナリオ2：スキャンされたソース コードは、非互換ライセンスを含むコードを含んでいる
シナリオ3：リンクに関する課題が、アーキテクチャ レビューの最中に特定される

シナリオ4：ソース コード パッケージは、もはや使われていない
シナリオ5：精査で、ライセンス義務を満足する形でリリースするべきIPが特定される

シナリオ6：検証ステップで、解決すべき課題が特定される

シナリオ7：ソース コードは、利用が承認される
シナリオ8：ソース コードは、利用が却下される



図17コンプライアンス シナリオの一例





シナリオ1：スキャンされたソース コードは、100%プロプライエタリである
スキャンされたソフトウェア コンポーネントは、100%プロプライエタリ コードだけを含んでいて、オープン ソース コードは申告も特定もされていない。このケースでは、早道を想定し、特定のコンポーネントのコンプライアンス チケットは、法務レビューに進められます。法務担当は、ライセンスをこのプロプライエタリ コンポーネントに付与し、アーキテクチャ分析とリンク分析の実施のためにコンプライアンス オフィサーへ送ります。

シナリオ2：非互換ライセンス（の組み合わせ）
スキャンされたソフトウェア コンポーネントは、互換性のないライセンスが付けられた複数のソース コードに由来するソース コードを含んでいることがあります。他の例としては、プロプライエタリ ソース コードとGPLで許諾されたソース コードとが組み合わされたものがあります。このシナリオでは、コンプライアンス チケットにスキャン報告が付けられ、プロプライエタリ ソフトウェア コンポーネントからGPLソース コードを取り去るという作業要求と共に、企業内でそのソフトウェア コンポーネントを管理している開発者に作業が割り当てられます。いったん開発者がコードの再作業を行った後は、そのソフトウェア コンポーネントは、法務レビューへ進む前に、GPLコードが取り除かれたことを確認するために、再スキャンされます。
シナリオ3：リンクに関する課題が特定される

このシナリオでは、コンプライアンス チケットは、法務レビューをパスして、アーキテクチャ レビューとリンク レビューに進みます。コンプライアンス オフィサーは、リンクに関する課題を見つけます。このケースでは、コンプライアンス オフィサーは、コンプライアンス チケットを解決フェーズに送り、リンクに関する課題を解決するために開発者に割り当てます。
シナリオ4：ソース コードは、もはや使われない
このシナリオでは、技術担当は、コンプライアンス プロセスでの移行中に、そのソフトウェア コンポーネントが製品に混入しないようにします。結果、そのコンプライアンス チケットは（却下として）クローズされます。当該コンポーネントが次に利用される場合には、そのコンポーネントが製品に組み込まれるか、ソース コード リポジトリに入る前に、コンプライアンス プロセスに再入力して承認を得なければなりません。
シナリオ5：[独自技術の]開示要求リスクのあるIP
このシナリオは、法務レビューによって、非開示の知的財産がオープン ソース コード パッケージと組み合わされていることが明らかにされたものです。法務担当は、この件にフラグを付けて、オープン ソース コンポーネントからプロプライエタリ ソース コードを取り除くために、コンプライアンス チケットを技術担当に割り当てます。技術担当がオープン ソース コンポーネント中にプロプライエタリ ソース コードを保持し続けることを固辞した場合には、OSECはプロプライエタリ ソース コードをオープン ソース ライセンスの下でリリースしなければなりません。

シナリオ6：[プロセスの途中で]未解決の課題が見つかる

OSRBメンバがソフトウェア コンポーネント中にコンプライアンスに関する課題を発見したようなケースでは、全て、コンポーネントは同じライフサイクル[コンプライアンス プロセス]を進みます。

. 技術担当は、特定された課題を解決します。
. 監査チームは、ソフトウェア コンポーネントを再スキャンし、新しいスキャン報告を提出します。
. 法務担当は、新しい監査報告を確認します。. コンプライアンス オフィサーは、アーキテクチャ解析、リンク解析において未解決の課題がないことを確認します。 

シナリオ7：ソースコードは、承認される

ソフトウェア コンポーネントが、監査、法務レビュー、コンプライアンス承認を全て受けたら、OSRB会議でその結果をレビューします。もし、状況に何も変更が無いならば、[状況とは、]使用されている、同じバージョンである、利用形態が同じである（次ページの図18）コンプライアンス オフィサーは、

. 「あるOSSソフトウェア コンポーネントのバージョンXは、製品YのバージョンZでの使用が承認された」ことをソフトウェア一覧表に反映させます。





. 製品に付属する文書中のエンド ユーザーへの通知を更新して、製品やサービスにオープン ソースが使用されていることを反映させるため、文書チームへチケットが発行されます。
. 製品出荷前に、分配プロセスを開始させます。


 
図18OSRB承認後に実施されるステップ

シナリオ8：ソース コードは、利用が却下される

このシナリオでは、OSRBは、特定のソフトウェア利用の却下を決定する。そういう却下につながるような理由がいくつかあります。

. そのソフトウェア コンポーネントは、もはや使われない。
. 容易に解決できないリンクに関する課題がある。このケースの結論は、[現在の]開発を中止し、より良いソリューションを設計しなおすというものです。






. 容易に解決できない非互換ライセンスがある。このケースの結論は、[現在の]開発を中止し、より良いソリューションを設計し直すというものです。
. 特定のコンポーネントの利用やリリースを阻害する知的財産に関する課題がある。
. その他の理由：それぞれのケースは、問題となっているソフトウェア コンポーネントの個別条件や、最終製品やサービスでの利用形態に依存します。


インクリメンタル コンプライアンス プロセス

インクリメンタル コンプライアンスは、すでに初期コンプライアンス[プロセス]が完了しているベースライン版に製品フィーチャーを追加する時に、コンプライアンス[状態]を維持するために実施されるプロセスです。（ベースライン コンプライアンスとも呼ばれる、初期コンプライアンスは、開発が開始された時に発生し、製品の初期版が出荷されるまで継続します。）インクリメンタル コンプライアンスは、ベースライン コンプライアンスを確立するために必要とする努力[作業]と比べると小さな努力しか必要としません。

図19は、製品開発とインクリメンタル コンプライアンスを示しています。

図19インクリメンタル コンプライアンス
この例では、コンプライアンス チームは、ソフトウェア ベースライン（ここでは仮にV 1.0と呼びます）に含まれる全てのオープン ソースを特定し、オープン ソース コンポーネント全てが、コンプライアンス プロセス全体を通るようにします。製品が出荷されたら、追加機能や不具合修正などを含む開発は、新しいブランチで行われます。この例では、V 1.1です。
インクリメンタル コンプライアンスに関しては、解決すべきいくつかの課題が発生します。特に、V1.0とV1.1の間で変更されたソース コードを正確に把握し、リリースの間の変化点についてコンプライアンス（状態）を検証します。
. 新しいソフトウェア コンポーネントが、導入されているかもしれません。. 既存のソフトウェア コンポーネントは、既に使用中止になっていたかもしれません。. 既存のソフトウェア コンポーネントは、新しいバージョンに更新されていたかもしれません。. ソフトウェア コンポーネントのライセンスは、バージョンの間で変更されていたかもしれません。
. 既存のソフトウェア コンポーネントは、不具合修正を含むコード変更や、機能やアーキテクチャに対する変更が含まれているかもしれません。 

ここで持つべき質問は、「どうすれば全ての変更を追跡できるだろうか？」というものです。
答えは単純です。：第7章で議論しますが、BoM比較ツールです。ここでの議論のために簡単に言うと、そのツールは、同じ製品やサービスに使う2つのBOMの差分を与えてくれます。製品V1.1のBOMと製品V1.0のBOMがあるとしますと、差分を計算します。ツールの出力は以下のようなものです。

. V1.1で追加された新しいソフトウェア コンポーネントの名前更新されているソフトウェア コンポーネントの名前使用されなくなったソフトウェア コンポーネントの名前






この情報を知ることで、インクリメンタル コンプライアンスの達成は、比較的容易なタスクになります。

. 新しいソフトウェア コンポーネントをコンプライアンス プロセスに入力します。
. 変更されたソフトウェア コンポーネントのソース コードの差異を計測し、再度ソース コードをすかんするか、あるいは前のスキャンは信頼に足るものかを、決定します。
. もはや使われなくなったソフトウェア コンポーネントをソフトウエア管理表から除いて更新します。


図20（次ページ）は、インクリメンタル コンプライアンス プロセスの全体像を示しています。それぞれの製品リリースに対するBOMファイルは、ビルド サーバーに蓄積されます。BOM差分ツールは、異なる製品リリースに対応する2つのBOMファイルを入力として受け取り、前に議論したように、変更リストを生成します。この時点で、コンプライアンス オフィサーは、リリースに含まれる全ての新しいソフトウェア コンポーネントに対して新しいチケットを発行し、ソース コードが変更されている部分はコンプライアンス チケットを更新した上で、できればプロセスを再実行し、使用中止になったソフトウェア コンポーネントを承認リストから削除して、ソフトウェア管理表を更新します。
OSRB利用フォーム

OSRB利用フォーム（要求フォームとも呼ばれます）を記入することは、オープン ソース ソフトウェアを企業へ導入する際の最も重要なステップの一つです。ですから、真面目に取り扱うべきものです。開発者は、該当するオープン ソース コンポーネントの利用の承認を要求するオンライン フォームに記入します。そのフォームは、OSRBが提案されているオープン ソース コンポーネントの利用を承認または却下することを決めるのに必要な、情報を与えるようないくつかの質問から構成されています。図6（97ページ）は、OSRB利用フォームで要求されている情報を示しています。通常、これらの値は、データ入力を効率的に行うために、プルダウン メニューで選べるようにします。










図20インクリメンタル コンプライアンス プロセスの例

ダウンロードされたオープン ソース パッケージに対する注意

Webからダウンロードしたオープン ソース パッケージを[そのままの]オリジナル形式で保管しておくことは不可欠なことです。これらのパッケージは、後の段階で（配置の前）、オリジナル パッケージと変更されたパッケージの差異を計算することで、ソース コードに加えられたいかなる変更も検証し追跡するために、使用されます。もし、サード パーティ ソフトウェア プロバイダーがオープン ソース コードを使っていれば、そのコードを製品に統合する製品チームは、OSRB利用フォームに、利用するオープン ソースを記載し、提出しなければなりません。もし、サード パーティ ソフトウェア プロバイダーが、ソースコード無しに、バイナリだけを提供している場合には、製品チームと、そのサード パーティ ソフトウェア プロバイダーと連絡を取っているソフトウェア供給マネージャは、両方、またはどちらかが、（例えばスキャン報告などによって）提供されたソフトウェアにオープン ソースが含まれていないことを確認しなければなりません。 




図6OSRB利用フォームの一部として要求される情報

区分

説明

提出者情報
フォームを提出する社員の社員ID（社員名、電話、Eメール、管理者、職務場所、チームなどを社員管理表から受け取ります）

OSSコードの情報
パッケージ名とバージョン

ソフトウェア区分：オープンソース、内製、サード パーティ パッケージ

WebサイトURL

説明

ライセンス名とバージョン

ライセンスWebサイトURL

ソフトウェア カテゴリ：OS/kernel, driver, middleware, library, utility, other (explain), etc.

OSSコンポーネントを利用する利点

コンポーネントやパッケージとは別の手段

ソフトウェアを利用しないことによって発生すること

SCMSでのソフトウェアの位置

ユースケース

内部利用（ツール、IT等）

製品の一部として出荷

外部向けサービスを可能にする

変更

変更されているか (Y/N)?

会社IP[知的財産]は含まれるか?

IP[知的財産]を開示するか?









アーキテクチャ図に対する注意

アーキテクチャ図は、あるプラットフォーム上での様々なソフトウェア コンポーネント間の相互作用を示します。図21は、アーキテクチャ図の一例です。この図では、以下を示します。

. モジュールの依存関係プロプライエタリ コンポーネントオープン ソース コンポーネント（変更後とオリジナル）Open source components (modified versus as-is)
. 動的リンクと静的リンクカーネル空間とユーザー空間共有されているヘッダ ファイル通信プロトコル課題となっているソフトウェア コンポーネントが、相互作用する、または依存関係にあるような、他のオープン ソース コンポーネント。特に、別のオープン ソース ライセンスによって許諾されている場合。 

図21アーキテクチャ図のテンプレート（CやC++に依存するような組み込み環境へ適用する） 




OSRB利用フォームに影響する規則
OSRB利用フォームに影響するいくつかの規則があります。ここにいくつか挙げます。

. フォームは、特定の利用状況における、特定の製品でのオープン ソースの利用に対して適用します。それは、全ての製品の全てのユースケースに対するそのオープン ソース コンポーネントの全般的な承認ではありません。
. フォームは、監査活動の基礎[情報]となり、OSRBが、フォームで表現された利用計画と、監査やアーキテクチャ レビューの結果とに矛盾が無いかを確認するための情報を提供します。. フォームは、該当するオープン ソース コンポーネントの利用計画が変更になった場合には、更新して再提出されなければなりません。
. OSRBは、技術担当がそのオープン ソースを製品ビルドに統合する前に、フォームを承認しなければなりません。
. OSRBは、ライセンスに、特許許諾条項や非係争条項を要求している時には、[そのオープン ソースを利用するのであれば]オープン ソース利用の承認をします。[ライセンスに特許許諾条項や非係争条項を要求している時には、OSRBが承認した後でなければ、どのようなものであってもオープン ソースは利用してはならない。] 

監査

良い監査実施方法は、製品やサービスの一部として採用される全てのソフトウェアの由来[出所]を完全に把握することを確実にします。このことを理解することによって、オープン ソース ソフトウェアライセンス義務を果たす組織能力が出来上がります。監査ポリシーは、単純でわかりやすいものです：ポートフォリオ／スタックに含まれる全てのソース コードは、監査され、コンプライアンス チケットに監査報告がつけられなければならない。監査プロセスは、技術担当が特定のソフトウェア コンポーネントに対するOSRB利用フォームした後に、続いて実行されるワークフローから構成されます。 




監査プロセスは、次のフェーズで構成されます。（図22）

監査すべきソース コードの場所を含む、OSRB利用フォームを受け取ります。

. ソース コードのスキャンを実施します。. スキャン ツールでフラグがつけられたコンポーネントの分析を実施します。
. 最終監査報告を作成します。 



図22：基本監査プロセス

ソース コード頒布

ソース コード頒布プロセスとポリシーの目的は、以下を確実にすることです。

. オープン ソース ソフトウェアを含む製品を購入する顧客やサービスを利用するユーザが、適用可能な場合には、ソース コードを受け取る権利があることを通知される。頒布したソース コードは、頒布サイトに転送されるソフトウェアのバイナリ バージョンと照らし合わせて正しいバージョンであり、また、適切にラベル付けされている。


頒布の動機[意図]
オープン ソース コードを頒布することには、主に3つのビジネス上の動機[意図]があります。ライセンス義務の遵守、オープン ソース プロジェクトの価値を高めるのに貢献すること、新しいオープン ソース プロジェクトに対してコードの[新規開発、修正の]貢献を行うこと。





ライセンス義務の順守

この例では、組織は、オープン ソースを製品やサービスに組み込んでおり、オープン ソース コンポーネントライセンスにより、ソース コードに加えた変更を含めて、ソース コードの開示義務を持っています。これは、コミュニティとの相互関係が双方向であるのに対して、略式に一方向頒布と考えられます。
既存のオープン ソース プロジェクトへの修正の貢献

あるケースでは、オープン ソース ライセンスは、ライセンス コンプライアンスの目的からすると、修正を開示する義務を含んでいません。しかしながら、技術的な負荷、言い換えれば、これらの修正を保守するコスト、を抑えるために、修正をリリースし、可能なアップストリームに載せます。
新しいオープン ソース プロジェクトの設立

組織は、ビジネス的な必要性から、新しいオープン ソース プロジェクトを設立し、ソース コードを貢献[提供]するかもしれません。このケースは、既存のオープン ソース プロジェクトへ、（不具合修正や新規機能追加の形で）ソース コードを貢献することとは異なります。
頒布プロセスとポリシー

頒布ポリシーの目的は、ソース プロジェクト コードの供給プロセスに強い影響を与え、オープン ソース コードの入手性に関するオープン ソース ラインセンス義務の遵守するために、様々な流通[ロジスティックス]に対するガイドラインを提供することです。この頒布ポリシーは、ライセンスがソース コードの再頒布を要求するようなソフトウェア パッケージに適用されます。公開プロセス、公開方法、モード、チェックリストなどをカバーします。

プロセスを開始させる前に、ソース供給の方法とモードを決めなければなりません。プロセスは、外部へ頒布するソース コードの準備をもって始まり、頒布前チェックリストの確認、ソース コード パッケージの入手性の確認、そして、頒布後チェックリストの確認と続きます。 




図23は、頒布プロセスの例を示します。以下を含みます。
. ソース コード提供方法を決めます。頒布モードを決めます。外部頒布のためにソース コード パッケージの準備をします。前に置かれている全てのステップが問題なく完了していることと、外部頒布に向けてソース コード パッケージの準備が整っていることを確実にするために、頒布前チェックリストを全て確認します。. 頒布を実行します。頒布プロセスの一部で発生した誤りがあれば把握するために、頒布後のチェックリストを確認します。 

 
図23公開プロセスの例 




頒布方法とモード

ソース コード パッケージを入手可能な状態にする、3つの主な頒布方法があります。
即時コンプライアンス方法

この頒布方法に従い、製品やソフトウェア スタックの出荷時または直後にコードを提供し、一般的にはWebサイトからダウンロードによって、コードを欲しい人は誰でも入手できるようにします。[一般の]開発者は、入手資格を確認されることなく（つまりソース コードの入手資格を得るために製品を購入する必要なく）、直接ソースコードにアクセスが許されますので、このやり方は通常開発者にとって頒布の好ましい方法となります。あるケースでは、即時コンプライアンス方法は、[製品と一緒に頒布する]メディアのディレクトリのproduct/deviceにソース コードを含めることで、達成することができます。

この頒布方法には2つの不利な点があります。まず第1に、全てのソース コードをパッケージ化し、製品を出荷する準備を整えた時に、製品が出荷される日までにWebサイト上でそれ[ソース コード]を入手可能にしなければなりません。第2に、将来のソース コード頒布でも同じ方法が取られるだろうという[受け取る人の]期待を築いてしまいます。これは、毎回満足させるべきとても高い期待になります。

オンライン供給方法

この頒布方法によれば、ソース コードを入手する資格を持っている顧客だけに、排他的にアクセス権を与えるものです。この方法は、[サイトに]アクセスして、ソース コード パッケージをダウンロードするための認証を必要とするセキュアなWebサイトによってもっともよく管理されます。

オン デマンド コンプライアンス

この頒布方法は、オンライン供給方法の変形で、書面による通知[Written Offer](GPL/LGPL系のライセンスの場合)を利用して、どのようにしてソース コードを要求し、アクセスできるかを顧客に伝えます。ある組織は、企業窓口emailや郵便アドレス(書面による通知に書かれている)に対して書面で要求が送られるのを好みます。その結果として、顧客は、入手資格を確認された後で、ソース コードのコピーを受け取ります。このコンプライアンス方法は、製品出荷後に、ソース コード パッケージ化の終了のための追加の予備時間を組織に与えてくれます。しかしながら、一般的に言って、ソース コードへのアクセスを要求してくる人たちの入手資格を確認するのにかかるオーバーヘッドや、要求を満たすために必要となる資源を考えると、好ましい頒布方法とは言えません。加えて、GPL/LGPL系のライセンスに特有のケースとして、書面による通知は3年間有効でなければなりません。それゆえ、製品を最後に出荷した日から少なくとも3年間は、コード頒布を管理しなければなりません。CD-ROMでのソース コード頒布を選んだ場合には、追加のコストがかかりますし、ソース コード パッケージを格納したCD-ROMを生成するプロセスを確認する追加の検証ステップも必要になります。

頒布チェックリスト

顧客や一般向けのWebサイトで公開する前に、オープン ソース パッケージの正当性を確認するための多くのチェックポイントがあります。それから、追加の正当性確認は、一般に入手可能になった後にも必要になります。以下では、頒布前、頒布後のプロセスについて概要を示します。

頒布の前提条件
以下は、ソース コード パッケージが頒布可能に前に、適合しておくべき条件リストです。（頒布衛生[頒布が適切であることを確認すること]とも呼ばれます）

. オープン ソース パッケージは、利用フォームで宣言された範囲で、その利用をOSRBによって承認されています。. オープン ソース パッケージを含む製品は、出荷可能か、すでに出荷されています。






. もし、GPL/LGPLで許諾されたコードを開示するのであれば、自分たちが加えた変更について、コードと文書を提供することを確実にします。. リンギスティック レビュー[コードレビュー]を実施しています。このことはコンプライアンス関連ではないですが、将来使用予定の製品コード名、下品または粗野な言葉づかい、個人やemailアドレス、URLへの参照、などがコードに残したままであったというような課題が過去にありました。


頒布前チェックリスト

以下は、ソース コードの一般公開や頒布の前に行うチェックリスト例です。

. オープン ソース パッケージに加えられた変更は、文書化されて、オープン ソースのリリース ノートに変更履歴として含まれていることを検証します。変更されたソース コード ファイルは、著作権表記や免責事項の記載や一般的な変更履歴等への記載を含んでいることを確認します。
. ソース コード パッケージに含まれている全ての内容物は、技術担当によってレビューされ、OSRBによって確認されていることを、確認します。. オープン ソース パッケージは、企業のものでないマシンでコンパイルできるk十を確認します。企業で初期設定したマシン上でパッケージをコンパイルする時に、環境やコンパイラが全て事前に構成や設定されているといいうことがよくあります。しかしながら、別のシステムでパッケージをコンパイルしようとする場合には、コンパイラの設定や、Makefileのオプションや、Include path等が適切でないかもしれません。このステップの目的は、頒布しようとしているオープン ソース パッケージが、平凡なエンド ユーザー システム上でコンパイルできることを確実にすることです。. 製品マニュアルを更新します。：製品はオープン ソース ソフトウェアを含むことを言及します。
. 製品に含まれる異なるオープン ソース ソフトウェアに対応する全てのライセンスのリストを含みます。









. 適切な著作権と属性に関する通知を提供します。
. オープン ソース パッケージのコードへのアクセス方法（文書による通知）、Webページからのダウンロードや、製品マニュアルで提供される特定のアドレス宛てのemailや郵便による問い合わせなど、を提示します。



. 文書による通知が、そういう通知を必要とするソース コード（基本的に、GPL/LGPL系ライセンスで許諾されたコード）全てを包含しているかを検証します。
. ソース コードに不適切なコメントが残っていないことを確実にするために、リンギスティック レビュー[コードレビュー]を実施します。ある企業では、リンギスティック レビューを通すことを忘れてしまい、製品がハックされた時に、ソース コード中に残っていた不適切なコメントが発覚し、困惑しました。リンギスティック レビューを実施する他の重要な理由としては、ソース コードやコメントが、将来使用する開発コード名や機能に言及していないことを確実にすることです。. 既存のライセンス表記、著作権表記、属性表記が破損しないことを確実にします。. 製品に搭載されて出荷されるバイナリに対応したソース コードであること、そのソース コードが製品とともに出荷されるライブラリを構成すること、ビルド手順がソース頒布（派生するバイナリは、タイム スタンプを除いて通常同一のものになります）に含まれていること、を検証します。
. パッケージが、OSRB利用フォームで定義されたリンク関係や相互作用を守っていることを検証します。例えば、開発者がコンポーネントをLGPLで許諾されたライブラリと動的にリンクすると宣言したならば、そうなっていて[動的リンクを使っていて]、代わりに静的リンク法を使っていないことを検証する必要があります。これは、リンク依存関係マッピング ツールを使って検証されます。 





. もし、まだ入っていなければ、オープン ソース パッケージのソース コード ルート フォルダにあるLICENSEファイルに、ライセンス文のコピーを追加します。
. もし、ソース コード パッケージが、特別なビルド ツールや環境を必要とするならば、READMEファイル等にその詳細を記載します。 

一般公開後のチェックリスト

以下は、ソース コードを一般公開した後に、ソース コード パッケージが入手可能になっているかを検証するチェックリストの例です。The following is a sample checklist to go through after publishing source code, to validate the source code packages being made available:


. ソース コード パッケージは、Webサイトにうまくアップロードされ、外部コンピュータからダウンロード可能になっています。
. ソース コード パッケージは、外部コンピュータでエラー無しで圧縮解凍できます。
. ソース コード パッケージは、外部コンピュータでエラー無しでコンパイルとビルドができます。


文書による通知
以下は、ソース コードを提供するための文書による通知の例です。

このFooBar製品で使用されているソフトウェアに関連して、FooBar社(“FooBar”) によって一般に開示されているソース コードのコピーを入手するためには、書面で[コピー送付の]要求を以下に出さないといけません。

FooBar Inc.

Attention: Open Source Compliance Inquiries 




Street Address
City, State, Postal Code
Country
FooBarは、妥当な遅延の範囲で、http://opensource.foobar.com (“Website”)にてソース コードが入手可能になるように可能な全ての努力をいたします。書面による要求を出される前に、ソース コードが既に公開されているか、このWebsiteを確認して下さい。


代わりに、郵便ではなくemailにて要求を受けたいならば、書面による通知の文言を少し変更します。 

このFooBar製品で使用されているソフトウェアに関連して、FooBar社(“FooBar”) によって一般に開示されているソース コードのコピーを入手するためには、書面で[コピー送付の]要求をopensourcecompliance@foobar.comに出さないといけません。

FooBarは、妥当な遅延の範囲で、http://opensource.foobar.com (“Website”)にてソース コードが入手可能になるように可能な全ての努力をいたします。書面による要求を出される前に、ソース コードが既に公開されているか、このWebsiteを確認して下さい。





第6章

コンプライアンス プロセス管理の推奨実践例

この章では、オープン ソースを商用製品に統合する際の、推奨実践例や様々な考察を扱います。3つの部分に分かれます。

. 推奨実践例は、オープン ソース コンプライアンス管理の一貫プロセスの中の様々なステップに配置されます。. ソース コード改変、告知、頒布、ソフトウェア設計、利用、リンク、コード結合など関連したコンプライアンスについての考察。. 推奨実践例は、オープン ソース コンプライアンス プログラムの中の様々な不可欠要素に関連します。


コンプライアンス プロセス
[各ステップでやるべきことを思い出すように]コンプライアンス管理プロセスは、製品ソフトウェア スタックへの組み込みが承認される前に、ソフトウェア コンポーネントが通過する様々なステップを含んでいます。プロセスは、製品ビルド システムへ統合する様々なソフトウェア コンポーネントを特定することで始まり、結果として発生するライセンス義務をリスト化することで終わります。
以下の節では、コンプライアンス要求を処理するための推奨実施例を示します。推奨実施例は、図24（次ページ）に示したコンプライアンス プロセスの中のステップに直接配置されます。

特定フェーズ
コンプライアンス プロセスの特定フェーズでは、組織は、ビルド システムへ入る全てのコンポーネント、その由来、ライセンス情報を特定します。[組織へ]入るソース コードには、主に3つの出所があります。





. 内部開発者によって作られたプロプライエタリ ソフトウェア。オープン ソースのコード断片を含んでいるかもしれません。コンポーネント レベルでオープン ソース コードと依存関係を持ったり、リンクされたりして、オープン ソースと統合されているかもしれません。独立プロバイダやコンサルタントによって開発され、商用ライセンスやオープン ソース ライセンスで許諾されたサード パーティ ソフトウェア。このソフトウェア カテゴリは上と同様にコード断片や依存関係を含んでいるかもしれません。
. オープン ソース プロジェクトのメンバーによって開発されたオープン ソース ソフトウェア。




図24コンプライアンス一貫管理プロセス 

[外部から組織へ]入るソフトウェア コンポーネントは、全て特定され、コンプライアンス プロセスを通されることが推奨されます。 




ソース コード監査
ソース コード監査やスキャンに関して、3つの推奨実践例があります。

全ソース コードスキャンScan all source code

開発チームがオープン ソースをプロプライエタリ ソース コードやサード パーティ ソースコードで使用しているかもしれないので、製品やサービスに統合される全てのソース コードをスキャンします。更に、開発チームは、オープン ソース コンポーネントに変更を入れているかもしれませんが、これは、追加の[ソース コード]精査を必要とするかもしれませんし、潜在的に追加義務を負うかもしれません。したがって、製品に組み込まれている全てのソース コードを監査し、特定することが重要です。

前に承認されているパッケージの新しいバージョンのスキャン

ある場合には、前に承認されているパッケージが、変更されて（同じ条件や異なる条件で）再利用されたり、そのまま再利用されたり、変更されて異なる製品やサービスに再利用されたり、新しいバージョンがダウンロードされてソフトウェア スタックに使用されたりします。コンプライアンスは、製品ごと、サービスごとに確認されますので、一つのケースでの利用承認は、必ずしも全てのケースに適用されることにはなりません。

規則として、開発者が前に承認されたコンポーネントを変更する時や、別の条件で前に承認されたコンポーネントの利用を計画する時には、その都度、ソース コードは再スキャンし直し、コンポーネントは再度承認プロセスを踏むべきです。
オープン ソース コンポーネントの各新しいバージョンが、レビューされ、承認されることを確実にします。
バージョン更新の間に、ライセンス変更が起きる可能性があります。開発者がオープン ソース パッケージのバージョンを更新するときには、新しいバージョンに適用されているライセンスが、古いバージョンに適用されていたものと同じであることを確認します。
「早めのリリース、頻繁なリリース“release early and release often.”」というオープン ソースに関する格言があります。 




オープン ソース開発モデルは、プロジェクト初日に始める、頻繁なリリースを推奨しています。これによってユーザーに評価実験や不具合報告の機会を与えます。その目的は、品質保証活動が開発プロセスの定常的な一部となることです。
「早めに、そして頻繁にスキャン“Scan early and often”」は、同じ精神に従っています。開発プロセスで早期にソースコードスキャンを行い、それを定常的に継続することは、コンプライアンスの取り組みが、開発の取り組みに後れを取らないようにします。組織は、プロセスがより効率的になるように、新しいスキャンが必要とされる時を定義した条件リストを作成すべきです。
「早めに、そして頻繁にスキャン“scan early and often”」というアプローチには、いくつかの有利な点があります。
. それは、プロセスの早い段階でのコンプライアンス課題の発見を助けます。
. それは、出荷スケジュールへ深刻な問題を与えないような許容できる期間で、発見された問題へ解決をもたらすことを促進します。. それは、前に実行したソース コード スキャンの中で、スキャンが必要なソース コード差分を減らすので、インクリメンタル スキャンの実行効率を改善します。


課題解決
ソースコードがスキャンされて、コンプライアンス課題が発見され、フラグがつけられた時、改題解決にはいくつもの方法があります。


. スキャン結果に疑問がある場合は、技術担当者と検討します。（問題となっているソフトウェア コンポーネントの担当開発者にインタビューします。）. スキャン ツールでフラグを付けられた各ファイルやコード断片を精査し、解決します。驚くような出所から来たソース コードと一致することがあります。
. オープン ソースになされた変更を特定します。理想的には、コード変更をしたかどうか、（ドキュメントはいうに及ばず、）技術者の記録に依存するべきではありません。誰が、いつ、コード変更を行ったかを特定するには、ビルド ツール(SCM, build automation, etc.)に頼るべきです。
. 例えば、ソース コード スキャン ツールが、プロプライエタリ コンポーネントの中に未承認のGPL許諾されたソース コード（コード断片）の利用を発見したならば、このことについて、技術担当に訂正要求を提出します。技術担当が課題を解決した後、問題のソース コードが削除され、適切で同等のコードによって置き換えられていることを確認するために、ソース コードを再スキャンすることを推奨します。
. 法務レビューの準備としては、特定のコンポーネントに対して発見されたライセンス情報の全てを、法務担当に提供するのが最も良い方法です。スキャン ツールによって生成されたソース コード監査報告
. オープン ソース コンポーネントに対するCOPYING, README, LICENSE ファイルサード パーティ ソフトウェア プロバイダから受け取るソフトウェア コンポーネントに対するライセンス契約





レビュー

コンプライアンス プロセスの一部として行われる、いくつかのタイプのレビューがあります。この節では、アーキテクチャ レビューとリンク解析レビューを議論します。
アーキテクチャ レビューは、オープン ソースとプロプライエタリやサード パーティ ソフトウェア コンポーネントとの相互作用に関する解析です。企業は、しばしば、問題となっている製品に責任を持つアーキテクトと、様々な重要ソフトウェア コンポーネントに責任を持つ開発者を参加させて、アーキテクチャ レビューを実施します。 




このレビューの目的は、特定することです。

. オープン ソース コンポーネント（そのまま利用、または変更利用）プロプライエタリ コンポーネント商用ライセンスで許諾されたサード パーティ コンポーネントコンポーネントの依存状態コンポーネントとサブシステム間の通信プロトコル動的リンクと静的リンク（以下の節で議論されます）
. カーネル空間実行（ドライバ等）とユーザー空間実行（ライブラリ、ミドルウェア、アプリケーション）. 共有されたヘッダファイルを使用するコンポーネント特に、別のオープン ソース ライセンスで許諾されているような場合、特定のソフトウェア コンポーネントと相互作用する、または依存関係にある、別のオープン ソース


アーキテクチャ レビューの結果は、オープン ソースからプロプライエタリ コンポーネントやサード パーティ コンポーネントへ影響するかもしれないライセンス義務の分析です。
承認

コンプライアンス プロセスの承認段階の一部として、2つの推奨実施例があります。

. コンプライアンス チケットに関連する全てのサブタスクは、コンプライアンス チケットを承認する前に、完了し、クローズされていることを検証します。サブタスクや保留中の小課題を忘れることは簡単ですが、そうすることで、未解決の課題が残っている時でさえもコンプライアンス チケットをクローズするような未熟なプロセスに陥ってしまいます。
. 承認や却下の判断を下した議論の概要を記録します。そうした文書は、該当するコンポーネントに提示された承認の基礎[理由]が何であったのか、課題はどのように解決されたのか、を特定するときに非常に役に立ちます。 





通知

製品やサービスにオープン ソースを利用している組織は、以下が必要です。

. 著作権や属性を全て通知することで、オープン ソースを利用していることを知らせます。. （例えば、GPL, LGPLで許諾されたソース コードのように、適用可能な場合には）エンド ユーザーにオープン ソース コードのコピーの入手方法を伝えます。
. 製品に含まれているオープン ソース コードに対応するライセンスの全文を提示します。 

この分野のいくつかの推奨実施例には以下のものがあります。

. オープン ソースの利用が承認されるその都度、属性とライセンス文を追加的に集めます。この方法に従いますと、要求される通知ファイルは、常に最新に更新され、全てのオープン ソースのリスト、ライセンス情報、著作権、属性通知を含むことになります。
. 文書による通知には、明快な言葉を使い、製品に使われている全てのオープン ソースが含まれるようにします。
. 製品のエンド ユーザーが、この情報が、製品そのものの中、製品文書（ユーザーマニュアルまたはCD-ROM）の中、かつ／またはWebサイトなど、どこに置かれているかを知ることができるようにします。


検証

コンプライアンス チームが一貫性を確認し検証ステップが見落とされていないかを確認する時に従うチェックリストを、作成し、維持し、発展させるのは大変役に立ちますし効率的でもあります。頒布前検証の例としては以下があります。





. 頒布されることになっているオープン ソース パッケージは、特定され、承認されている。. 不適切なコメントは、ソース コード パッケージから取り除かれている。（厳密には、これはコンプライアンス課題ではありません。しかしながら、コメントは、見えていないコンプライアンス課題を明らかにするかもしれません。）ソース コード パッケージ（変更分も含めて）は、製品やソフトウェア スタックに入って出荷されるバイナリと一致するものが、入手可能にされる。エンド ユーザーにオープン ソースのソース コードを要求する権利を伝える文書通知に加えて、適切な通知が、製品文書に入れられる。


オープン ソース パッケージが頒布用Webサイト（かつ／または、同等のメディアに格納）にアップロードされたとしても、作業は完了していません。以下を検証する必要があります。

. パッケージは、正しくアップロードされている。パッケージは、外部コンピュータでエラー無しでダウンロードして圧縮解凍できる。含まれるパッケージは、適切にコンパイル、ビルドできる。. 開発者は、将来の製品、製品開発コード名、競合他社への言及、その他不適切なコメントを残していない。


ツールと自動化

ツールは、組織がコンプライアンス活動を効率的で正確に実行するのを助ける、コンプライアンス プログラムの中の不可欠要素です。多くのツールは、オープン ソース コンプライアンス プログラムの中で、とても有用であることを証明しています。





. ソース コード スキャンとライセンス特定ツール. プロジェクト管理ツールBoM比較ツールリンク解析ツール


以下の小節では、ツールに関する情報と、ツール利用がコンプライアンス活動にどのように活用できるかを示します。市場では、以下で記述するような様々な機能を提供する、複数の商用、プロプライエタリ、オープン ソースのツールがあります。
ソース コード特定ツール
ソース コードとライセンスを特定するツールは、ユーザーがオープン ソース ソフトウェア コンポーネントに関連するソース コードとライセンスの由来を特定するのを助ける、検出と解析の機能を提供します。
. Antelink Reporter: http://www.antelink.com/
. Black Duck Protex: https://www.blackducksoftware.com/products/
protex
. The Black Duck Hub: https://www.blackducksoftware.com/
products/hub
. FOSSology: http://www.fossology.org/projects/fossology . nexB DejaCode: http://www.nexb.com/products.html
. Open Logic Exchange: http://www.openlogic.com/products-
services/openlogic-exchange
. Palamida Enterprise: http://www.palamida.com/products/enterprise . Protecode Enterprise: http://www.protecode.com/our-products/ . WhiteSource: http://www.whitesourcesoftware.com




Project Management Tools

プロジェクト管理ツールは、コンプライアンス活動を管理し追跡するのに不可欠なものです。いくつかの企業では、カスタマイズしたコンプライアンス ワークフローを持って、バグ追跡ツールをすでに実際に利用しています。他の企業では、特定のプロジェクト管理ツールや自社開発ツールを利用しています。どちらにしても、ツールは、プロセスのある段階から別の段階へコンプライアンス チケットを移し、タスクやリソースの管理、時間追跡、email通知、プロジェクト統計、報告機能などを提供して、コンプライアンス プロセスのワークフローを反映するようにすべきです。
コンプライアンスで広く利用される不具合追跡ツールの例
. Bugzilla: https://www.bugzilla.org/ . IBM Rationale ClearQuest: http://www.ibm.com/software/products/
en/clearquest/
. JIRA: https://www.atlassian.com/software/jira . Redmine: http://www.redmine.org/ . Bugzilla: https://www.bugzilla.org/ 

ソフトウェアBOM差分ツール

ソフトウェアBOM差分ツールの目的は、二つのBOMの差分を計算し、変更リストを生成することです。このようなツールは、（例えば、リリース1.1から1.2へ移行するなど）既存のベース コードの新しいバージョンを扱う時、インクリメンタル コンプライアンスを効率的に実施するのを可能にします。BOM差分ツールへの入力は、製品やサービスのコード ベースの二つのバージョンのコンポーネント リストを示す二つのBOMファイルです。BOM差分ツールの出力は、新しいコンポーネント、使わなくなったコンポーネント、および変更されたコンポーネントのリストです。

BOM管理ツールは、物理的な製造の世界には多くのものがありますが、オープン ソース ソフトウェアの管理用途のものは少ないです。著者の経験では、オープン ソース管理プロセスを支援するBOM差分ツールは、 


通常、自社内製であるか、かつ／または、既存ツールや機能をより集めて作られたものです。BOMのフォーマットに依存しますが、WebベースでBOMバージョン比較を作成するために、コマンドラインのdiffツールや、生産性ツール(spreadsheets等)や、ディレクトリ比較ツール、ビルドや連続統合ツールからの報告に加えて、これらを結合するスクリプトを利用することが可能です。図25は、図での説明のために作られてものですが、自社内製のBOM差分ツールのサンプル出力を示しています。

図25BOM差分報告の例
リンク解析ツール
依存関係解析ツールの目的は、CやC++言語に特定の話題ですが、動的、静的リンクのレベルで問題のあるコードの組み合わせにフラグを付けることです。このツールは、ツールの使用者が事前に定義したライセンス ポリシーに基づいて、バイナリとライブラリのライセンス間のリンクの矛盾を特定します。
上記のソース コード特定ツール、多くの静的解析ツール、ビルドや統合の報告ツール、自社内製のコード解析ツールなど、依存関係を解析するために一緒に利用されるツールが多くあります。依存関係マッピングに対する主な要求事項は、以下の機能です。

. バイナリとライブラリ間のリンクを特定します。バイナリとライブラリのライセンスを特定します。




. ライセンス スキャン ツールと接続します。または、出力を使います。. （GPLで許諾されたコードとのリンクなど）方針から逸脱しているリンクにフラグを付け、企業方針と合うように構成します。 

著者の経験では、依存関係マッピング ツールは、BOMツールとよく似ていますが、通常、自社内製であるか、かつ／または、既存ツールや機能をより集めて作られたものです。
このタイプのオープン ソースの既存ツールとしては、Linux FoundationのDep-Checkerがあります。 (http://git.linuxfoundation.org/dep-checker.git/).



第7章

コンプライアンスに関する照会の管理

この章は、コンプライアンスに関する照会を扱うガイドラインを示します。これらのガイドラインは、申し立てを調査している間に申立人に対して肯定的で協力的な態度を維持することと、ライセンス違反が実際に起きた時には適切な行動を取ることを、確実にします。

コンプライアンス情報の提供要求を無視した後に、否定的な評判を受けたり、かつ／または、法的手続きを受けた組織、コンプライアンスに関する照会をどう扱えばよいかわからなかった組織、コンプライアンス プログラムを持っていなかったり整備していない組織、ライセンスが強制的でないと（誤って）考えて協力を単に拒む組織があります。今日、ベスト プラクティスは、これらのアプローチはいずれの関係者の利益にもならないことを教えてくれます。従って、企業は、コンプライアンスに関する照会を無視するべきではありません。むしろ、照会を受け取ったことを知らせ、照会者に回答を保留していることを伝え、回答予定日を知らせるべきです。
コンプライアンスに関する照会は、以下の要求も含まれます。

. GPL, LGPLやその他のライセンスで許諾されたソース コードを提供するという文書による通知に従って行われる、ソース コードへのアクセス製品内にあることがわかった開示されていないコンポーネントに関するソース コードへのアクセス特定のオープン ソース コンポーネントが製品やサービスで利用されているかどうかの確認無効な(out of date)な属性や著作権の通知の更新ライセンス義務の一環として入手可能になっているオープン ソース パッケージにおいて、抜けているファイルの提供




企業は、通常、コンプライアンスに関する照会を、文書による通知やオープン ソース通知の一部として案内している専用のemailアドレス経由で受け取ります。

コンプライアンスに関する照会への対応
この節では、コンプライアンスに関する照会への方法について紹介します。図26は、照会を受け取ってからクローズするまでの各段階を説明する、コンプライアンスに関する照会への対応プロセス例を提示します。

 
図26コンプライアンスに関する照会へ対応するプロセス
確認

コンプライアンスに関する照会を受け取ったら、照会を受け取ったことを伝え、期日を定めて調査を約束するなどの応答をすぐに行うべきです。 


照会者の身元と動機を理解し、主張が正当で正確なもので、その時点で意味のあるものかを検証するのは重要です。照会者はライセンスを十分に理解しておらず誤った仮定で照会を提出することがしばしばあることを理解します。照会が、情報を欠いている時には、追加で次のような確認を要求します。

. 影響のある製品やサービスや、該当するコードの名前違反があると信じる理由プロジェクト コードと違反状態にあるライセンスの名前プロジェクト サイトへのリンク 

通知

照会者との率直な対話を維持することが推奨されます。常に、オープン ソース コンプライアンスの実践を示し、コンプライアンスに対する長年の誠実な取り組みを示します。照会者に、自社のコンプライアンス手続きと実施例を伝え、照会された事項を調査することを確約します。提示可能になったところで、内部調査に関する最新情報を伝えることは良いことです。
調査

この段階では、報告済みの申し立てを調査して、問題となっているコンポーネントに関するコンプライアンス記録を参照し、レビューし、コンプライアンス記録と照会とを比較するべきです。
報告

許容できる期間内で内部調査の結論を出して発見された事項を内部記録に残した後、照会者に結果を伝える必要があります。



照会のクローズ

コンプライアンスに関する照会が誤った警告であった場合には、（照会者に結論を伝える以外には）特に何もしないでコンプライアンス チケットをクローズすることができます。

矯正

調査が本当のコンプライアンス課題を明らかにした場合には、照会者に対し、製品やサービスをコンプライアンス遵守の状態に戻すために必要な手順を全て実行することと、これらの作業を完了するのに予想される日程を明確にして、事実を伝えるべきです。協力的で誠意をもって、照会者と一緒に課題を解決するのが、担当者の責任です。適用されているライセンスに基づく義務を理解していることを示し、いつまでにどのようにして義務を満足するかを伝える必要があります。and when . you will meet the obligations.

問題を解決したら、紹介者にすぐに伝え、解決策を検証するために来てもらうべきです。

改善

コンプライアンス課題があった場合には、OSRBを招集して、事例を議論し、どのようにしてこのコンプライアンス違反が生じたかを学び、そのような誤りが再び生じないように、既存のプロセスと実践例を改善するべきです。

一般的な考察

. 全ての照会は、正式な照会として扱います。照会者とのやりとりの中で開示した情報は、一般に開示される可能性があるという前提で作業をします。
. オープン ソース コンプライアンスに対する努力は、[ライセンスの]強制の中でいかに期待に応え、自社プロセスをいかに改善するかを考えてみて下さい。




第8章

その他のコンプライアンス関連実践例

この章は、実際のコンプライアンス プロセスの範囲外ではありますが、コンプライアンスのベストプラクティスや様々な考察に光を当てます。

従業員の評価
技術面やコンプライアンス強制に関連して、全ての企業が直面する4つの挑戦があります。

. 技術者が、一貫して、利用したいオープン ソース コンポーネント毎に要求フォームを確実に記入するように働きかけます。コンプライアンス チケットに対して適時に応答するように、技術者に要求します。OSRBによって定められたガイドラインに従って技術者が行動していることを、検証します。
. 企業(組織)内のオープン ソース コンプライアンスに関するトレーニングを技術者が受けるように義務付けます。 

これらの4つの挑戦に直面した企業をサポートするのに効果的であった実践例は、従業員の実績評価の一部として、オープン ソースとコンプライアンス評価項目に含めます。結果として、従業員のボーナスの一部は、コンプライアンス ポリシーと手順に彼らが従った程度によって決まります。レビューは、従業員が以下の項目を実行したかを評価します。 


. 利用するオープン ソース コンポーネント毎にOSRBフォームを記入する。大きな遅延なしにコンプライアンス チケットに応答する。マネージャによって設定された期限内にオープン ソースとコンプライアンスに関するトレーニングを修了する。OSRBが制定したガイドラインの範囲内でオープン ソースを利用し、コンプライアンス違反を起こさない。


逆に、コンプライアンスを従業員の実績評価として利用するためには、OSRBは各開発者に対して以下の課題を追跡しなければなりません。

. ソフトウェアBOMに含まれているが、承認を受けていないコンポーネントコンプライアンス チケットへの応答時間トレーニングコース修了経営チームへ報告されたコンプライアンス違反


Webポータル

いくつかの企業は、社内向け、社外向けのオープン ソースWebポータルを運営しています。社内向けポータルは、コンプライアンス ポリシーやガイドライン、トレーニング教材、通知、関連するメーリング リストなどを提供しています。社外向けポータルは、ライセンス義務を履行する形で、利用しているオープン ソース パッケージのソース コードを一貫した方法で提供します。

意思伝達

意思の伝達に関する最も重要で唯一の推奨事項は、社内にオープンソースに関連する企業目標や懸念事項を説明するか、社外のコミュニティ参加者に対するかに関わらず、明確で一貫性を持つことです。explaining company goals and concerns around open source, or externally . facing community participants. コミュニティとの接点となるサイトを持つことは、コンプライアンスに関する照会に応答する時に特に重要になります。



トレーニング

オープン ソースとコンプライアンスに関するトレーニングの目標は、オープン ソース ポリシーと戦略についての意識を高め、オープン ソース ライセンスの課題と事実について共通理解を形成することです。トレーニングは、製品にオープン ソースを統合することによるビジネスリスク、法的リスクも扱います。また、組織のコンプライアンス ポリシーやプロセスを[組織内で]広めて推進し、コンプライアンス文化を促進する手段でもあります。
公式と非公式のトレーニング方法があります。公式の方法は、修了するために従業員は試験に合格する必要がある、インストラクターが担当するトレーニングコースを含みます。非公式の方法は、Webでのトレーニング[e-Learning]、ブラウンバッグ セミナー[ランチタイムの会話形式セミナー]、新規雇用従業員へのオリエンテーションの一部としての説明などを含みます。

非公式トレーニング

ブラウン バッグ セミナー

ブラウン バッグ セミナーは、企業従業員（法務担当者、オープン ソース エキスパート、コンプライアンス オフィサー等）や招待スピーカ（広く行われているのは、著名なオープン ソース開発者）による、昼食時の講演会です。これらのセミナーの目標は、製品やソフトウェア スタックに統合されているオープン ソースの様々な面に関して説明して議論を引き出すことです。これらのセッションは、企業のコンプライアンス プログラム、ポリシー、そしてプロセスに関する議論も含みます。
新規従業員へのオリエンテーション
いくつかの例では、コンプライアンス オフィサーが、企業のコンプライアンスに関する努力や規則、ポリシー、そしてプロセスをオリエンテーションの一部として新規従業員に説明します。初日に、新規従業員は、オープン ソースとコンプライアンスに関する30分のトレーニングを受けます。結果として、新規従業員は、社内で誰がその内容のエキスパートであるか、どういう社内イントラネットがあるか、オープン ソースとコンプライアンスに関するトレーニングがどのように登録されるかなど、必要な情報を受け取ります。 


公式トレーニング

組織の規模や、オープン ソースが商品に使われている範囲にもよりますが、組織は、オープン ソースに携わる従業員が、公式な講師の教えるコースを受講し、その領域での習熟度のテストを受けるように命じることができます。

ソース コード変更に関する考察

既存のソース コードを変更する基本ルールを確立するために、平易で、法務用語を使わない言葉で表現した、内部利用目的のガイドラインを発行することを強く勧めます。例

. プロプライエタリを残すようなソース コード変更は、特に派生物への義務を持つような（GPL, LGPL等の）オープン ソース パッケージ内で行っていはいけません。. プロプライエタリ ソース コードは、派生物への義務を持つようなオープン ソース ライブラリにリンクしてはいけません。企業では、通常、それらを実行するには正式なOSRB承認を必要とします。. ソース コードに加えられるいかなる変更も、オープン ソース ライセンスに準拠して頒布前に文書化されることを確実にします。. オープン ソース モジュールへの全ての変更は、モジュールの修正履歴（Change log file）で把握されるようにします。 

通知に関する考察
オープン ソースを使う時に重要な義務の一つは、著作権、属性、ライセンス情報、そして文書による通知（GPL/LGPLで許諾されたソース コード）などの明確で正確な文書作成を確実にすることです。これらの文書化の義務の全体は、よく、オープン ソース通知と呼ばれます。 


提供物にオープン ソースを利用している企業は、著作権の属性を全て表示し、ほとんどの場合、製品やサービスに含まれているオープン ソース ソフトウェアのライセンス全文を記載することで、オープン ソース利用を知らせなければなりません。従って、企業は、出荷する全ての製品や提供する全てのサービスの文書に、著作権、属性、そしてライセンス通知を記載することで、文書化の義務を満たさなければなりません。
文書化義務の要求を満たす2つの主要な選択肢があります。

. 製品自体にオープン ソース通知を表示します。これは、ユーザーと対話してライセンス情報を引き出すか、ライセンス情報を表示するかできるユーザー インタフェースを製品が持っている場合には、実行可能な選択肢です。この選択肢の例は、携帯電話やタブレットです。. 製品マニュアルや、製品に付属する文書に、オープン ソース通知を含めます。 

いくつかの企業は、Webサイト（一つの選択肢ではありますが、頻繁に採用されていますし、維持に手がかかりません。基本的にはWebサイト上に通知ファイルを置くだけです。）上で通知を維持しながら、可能な時には、これらの選択肢も選びます。basically just hosting the notices file on the website). 通知に関する考察から得られる重要なことは、製品出荷やサービス開始前に、全てのオープン ソース通知に対する要求が満たされることを、確実にしなければならないということです。

頒布に関する考察
一般的に言って、企業は、製品出荷前にオープン ソース頒布に関する義務を準拠状態にできることを望みます。コンプライアンス実践例の開発サイクルでの徹底的な実施によって、頒布に関する考察は、とても単純で簡素なものになります。



利用に関する考察
以下の節では、完全にコンプライアンス準拠したオープン ソース利用についての、考察と警告を示します。

BoMをクリーンにします。

入るソフトウェアが、利用宣言されていないオープン ソースを含んでいないことを確実にします。供給者から受け取る時に、いつもソースコードを監査します。代わりの方法としては、ソフトウェア供給者が供給するコードの監査報告を必ず提供しなければならないという企業ポリシーを制定します。

それぞれのオープン ソース コンポーネントに対するOSRBフォーム

利用するそれぞれのオープン ソース コンポーネントに対してOSRB利用要求フォームを記入します。明白なOSRB許可がないオープン ソースを利用するのは避けます。
M&Aによるリスクの理解

利用されているオープン ソース コードと関連する事項は、企業間の取引に先立って実施される資産監査対象の一部であることを理解します。

Retired Open Source Packages

If an approved open source package is no longer in use, engineers must inform the OSRB to update the open source inventory; alternatively, the OSRB will discover that the package is not used anymore when they run the BOM diff tool.

Major Source Code Changes

If an approved package went through a major change, inform the OSRB to re-scan the source code; alternatively, the OSRB will discover that the package has been modified when they run the BOM diff tool. A major change in the design or implementation often impacts architecture, APIs, and use cases, and in some cases may have an impact on the compliance aspect.



Reference Original Source Code

Document the URL from which you downloaded the open source package in addition to saving an original copy of the downloaded package.

Upgrading to Newer Versions of open source 
Ensure that each new version of the same open source component is reviewed and approved. When you upgrade the version of an open source package, make sure that the license of the new version is unchanged from the prior version, as license changes can occur between version upgrades. If the license changed, contact the OSRB to ensure that compliance records are updated and that the new license does not create a conflict.

Compliance Verification Golden Rule

Compliance is verified on a product-by-product, service-by-service basis: Just because an open source package is approved for use in one context does not necessarily mean it will be approved for use in a second one.

Copy/Paste 
Avoid using source code snippets, and avoid copying/pasting open source code into proprietary or third-party source code (or vice versa) without prior documented OSRB approval. Such actions have serious implication on compliance.

Mixing Source Code with Different Licenses

Avoid mixing different open source licenses in a derivative work, as many open source licenses are incompatible with one another. It is highly recommended to seek legal support from your Counsel on this topic.
Source Code Comments

Do not leave inappropriate comments in the source code (private comments, product code names, mention of competitors, etc.). 


Existing Licensing Information

Do not remove or in any way disturb existing copyrights or other licensing information from any open source components that you use. All copyright and licensing information must remain intact in all open source components, unless you are completely certain the license allows it to be changed.

ATTRIBUTION CONSIDERATIONS

Companies that include open source in a product need to provide required attribution to the end user. This section provides guidelines of how to fulfill open source attribution obligations.
Attribution Types

Open source attribution requirements differ from license to license, but can generally be grouped into four categories:

Full License Text

A verbatim copy of the full license text is required for almost all open source licenses.

Copyright Notices

A verbatim copy of the copyright notices is required for many open source licenses.
Acknowledgments Notices

Some open source licenses explicitly require author attribution. In most cases, open source projects maintain a file called AUTHORS that includes the list of contributors; you can use this information as part of the attribution notice. 


Information on Obtaining the Source Code

Most licenses with a source code redistribution obligation require that either the source code accompany the product or that the user receive a written offer with details on how to obtain the source code. The GPL and LGPL are examples of licenses in this category.

Presentation of Attributions

For each product or service containing or using open source, the attributions must be included in published user documentation (such as the product manual) distributed in printed or electronic form, such as a CD or a download from a website. If products or services possess a graphical user interface or a command line administrative interface, you can also provide the option to display the attributions via that UI. For product updates such as over-the-air (OTA) updates for cell phones, the attributions must also be revised when the product update includes new or updated open source components.

SPECIFIC LICENSE OBLIGATIONS
“Must include a copy of the license in documentation available to the end user”
The license of the open source component in question must be included in the user documentation for all products using this open source.
RECOMMENDATIONS

. In some instances, such as with mobile phones or tablets, manufacturers are able to provide the notices on the actual device via a web browser or a PDF viewer (i.e., licensing text is available on the device either in HTML or PDF format). . For products with a user accessible file system, it is recommended that the license is included in the file system with a filename LICENSE to make it stand out and to be similar to the open source license filename. 



. For product updates, license information must also be updated. For instance, when a new software release becomes available, the updated release must include an update license information file to reflect any open source changes introduced in the new release. Changes may include:
. New open source used
. Deprecated/removed open source . Open source upgraded to a new version, which may require updating the attribution/copyright notices, and, in some rare cases, updating the license





“Must include copyright notices in documentation available to the end user”

The license of the open source component in question may require including copyright notices in the product document available to the end user.

RECOMMENDATIONS

. For all products, copyright information must be included in printed documentation (such as a user manual).
. If the use case includes a graphical user interface, the end user should be able to view the copyright information from an ABOUT or a LICENSE screen. . If the product has a user-accessible file system, the copyright information should be included in the file system in a file containing, for instance, all the copyright notices for all open source used in the product.
. For products updates, the copyright information must also be updated. 

“Advertising materials may need special acknowledgments” 


This advertising clause from the original BSD license is written as follows:

All advertising materials mentioning features or use of this software must display the following acknowledgement: This product includes software developed by the University of California, Berkeley and its contributors.

Where applicable, all marketing and advertising material (including web-
based, magazines, newspapers, flyers, etc.) must display the acknowledgement.

GENERAL GUIDELINES

You’re probably already familiar with some of the guidelines that apply to open source licenses, such as not using the name of the open source project for endorsement, marking the source code modifications you have introduced, and preserving the original licensing, copyright, and attribution information. The following sections expand on these general guidelines in more detail.
No Endorsing or Promoting

You cannot use the name of the open source project, authors, or contributors in any marketing, advertising, or documentation (hard copy, digital, or on the web) without prior written permission.
Source Code Modifications Markup

When redistributing modified open source code, your modifications need to be clearly marked as such, including a copyright line for those modifications (company, year) while preserving the existing copyright lines.
Some companies elect a different approach . providing the original open source code along with the company’s contributed patch files that apply against the original open source code. Following this approach, the company’s modifications are clearly separated from the original open source code.



Preserving Original License, Copyright, and Attribution

Whenever you are redistributing open source code, with or without modifications, you must preserve the original licensing information, copyright lines, and other attributions.

Source Code Comments

Do not leave any inappropriate comments in the source code, such as private comments, product code names, mention of competitors, etc. 
Existing Licensing Information

Do not remove or in any way disturb existing open source licensing copyrights or other licensing information from any open source components that you use. All copyright and licensing information is to remain intact in all open source components. 


Chapter 9

SCALING OPEN SOURCE LEGAL SUPPORT

Open source compliance is often more of an operational and logistical challenge than a legal challenge. Achieving compliance requires the proper policies and processes, training, tools, and proper staffing that enable an organization to effectively use open source and contribute to open source projects and communities, all while respecting copyrights of their respective holders, complying with license obligations, and protecting the organization’s intellectual property and that of its customers and suppliers.

However, legal counsel plays an indispensable role in supporting the open source compliance programs and core teams that most organizations create to ensure proper compliance. In this chapter, we look closely at the role of the Legal Counsel in ensuring open source compliance, and offer practical advice that a Legal Counsel can provide to the software development team. Such practical advice will enable software developers to make day-to-day decisions related to open source licenses without having to go back to Legal Counsel for every single question.
PRACTICAL LEGAL ADVICE

Practical advice from Legal Counsel to software developers may include:

. License Playbooks: Easy-to-read, digest-form summaries of open source licenses intended for software developers . License compatibility matrix: A grid to help determine whether License-A is compatible with License-B. Software developers can use such a matrix as they merge incoming code from different projects under different licenses into a single body of code.
. License classification: An easy way to understand the different licenses, and the course of action needed when using source code provided under these licenses 



. Software interaction methods: A guide to understanding how software components available under different licenses interact, and if the method of interaction is allowed per company compliance policies
. Checklists: A consistent, foolproof way to remember what needs to be done at every point in the development and compliance processes 

In the following sections, we examine these five pieces of advice, provide examples, and discuss how they help software developers working with open source.

LICENSE PLAYBOOKS

License playbooks are summaries of commonly used open source licenses. They provide easy-to-understand information about these licenses, such as license grants, restrictions, obligations, patent impact, and more. License playbooks minimize the number of basic questions sent to Legal Counsel and provide developers with immediate legal information about these licenses.

Figure 27 (next page) provides an example license playbook for the GPL v2. Please note that this playbook is provided for illustration purposes only and its content should not be considered definitive. 




Figure 27. Example license playbook for GPL v2 (for illustration purposes only)

LICENSE COMPATIBILITY MATRIX

License compatibility is the determination of whether a software component and its license are compatible with one or more other components and their licenses (i.e., that their licensing terms do not conflict). Compatibility also 


addresses the appropriate licenses for works that combine two or more licenses (combined outlicensing).
License compatibility challenges can arise when combining diverse open source software components, in source and/or object form, that are distributed under licenses with incompatible terms. The result of such combination is a licensing chimera, an aggregation of software components that for purely legalistic reasons cannot be redistributed.

An example of licensing incompatibility can be found in attempting to combine code distributed under the Apache version 2 license with software under the GNU GPL version 2.0 (due to patent termination and indemnification provisions not present in the older GPL license ). An example of license compatibility is combining code licensed under the X11 license, which is explicitly compatible with the GPL version 2.

Figure 28 illustrates the creation of a single source component that originated from multiple sources under different licenses. In this scenario, you must ensure the sources have compatible license terms that allow you to join them in a binary or an object file without any conflict.



Figure 28. Combining source coming under different licenses into a single binary



License compatibility is an area where development teams need detailed guidance from Legal Counsel and should never be left to draw their own conclusions. Such guidance can be provided via a License Compatibility Matrix that covers most popular licenses. An example matrix is provided in Table 7.

Table 7. Example license compatibility matrix (for illustration purposes only)

License-A

License-B

License-C

License-D

License-E

License-F

License-G

License-A

a

a

a

License-B

a

License-C

a

License-D

a

a

a

License-E

a

License-F

a

License-G

a

a





When development teams need to combine code under different open source licenses, they can refer to this matrix to determine if joining the software components in question creates a licensing conflict. When a new or novel license is encountered that isn’t included in the matrix, that license should be analyzed by the Legal Counsel, who should update the table accordingly.

LICENSE CLASSIFICATION

In an effort to reduce the number of questions received by Legal Counsel and to increase license and compliance process education, some companies opt to classify the most-used licenses in their products under a handful of categories. Figure 29 (next page) presents an example license classification, in which most-used licenses are divided into four categories.



Pre-approved Licenses 
Permissive open source licenses often fall under this category. Source code available under these licenses may be pre-approved for use by developers without having to go through the approval process with their manager and/
or legal counsel. Such pre-approvals usually also require the developer to capture any notices and to make sure they are sent to the documentation team.

Licenses Requiring Manager Approval

Manager approval is required for components distributed under these licenses, since in addition to notices fulfillment (publishing license text, attribution notice, copyright notice, etc.), you have the obligation to release any source code modifications.



Figure 29. Example license categories (for illustration purposes only) 
Licenses Requiring Legal Counsel Approval

Source code available under these licenses requires legal review and approval. This usually applies to licenses that have a patent clause. 


Prohibited Licenses

Some companies flag certain licenses as “not allowed” . usage not allowed by company policy.
How can classifying licenses be helpful?
The above license categories are a way to classify licenses to make it easier for developers to know the proper course of action when integrating code under these licenses. Furthermore, it makes it easy to create an association between a license and what needs to be done. Table 8 shows one easy way developers can remind themselves of the proper actions associated with various licenses.

Table 8. A simple how-to for license classifications

Which License

Action

License A

Use with no problem

License E

Get my manager’s approval

License I

Consult with Legal

License M

Can’t use this source code

Other

Ask my manager for course of action





Please note that these different scenarios are provided for illustration purposes only. You can set up a different classification model with different actions depending on your organization’s policies and guidelines.

SOFTWARE INTERACTION METHODS 
As part of the compliance process, there is usually an architecture review, the goal of which is to understand how any specific software component interacts with any other software component, and the method of interaction. Architecture review should identify:

. Components that are open source (used “as is” or modified) . Proprietary components






. Components originating from third-party software providers (both open source and proprietary)
. コンポーネントの依存状態Use of shared header files
. Component run-time context (kernel/drivers/modules, middleware, libraries, applications, etc.)
. Inter-component dependencies beyond APIs (s/w buses, IPCs, web APIs, etc.)
. Inter-language bindings


Tables 9 and 10 (next page) provide additional information that Legal Counsel can provide to software developers. The tables illustrate which licenses can dynamically or statically link to which others, while respecting company policies.
Table 9. Sample dynamic linkage matrix

Can Dynamically Link To

License-A

License-B

License-C

License-D

License-A

a

a

a

a

License-B

a

a

License-C

a

a

License-D

a

[Requires Pre-Approval]

a





For example, looking at Table 9, source code licensed under License-B can dynamically link to source code license under License-D. However, source code licensed under License-C cannot dynamically link to source code licensed under License-B. Also, note that linkages may not always be reciprocal between licenses.

Similarly, looking at Table 10, source code licensed under License-A can statically link to source code license under License-C. However, source code licensed under License-A cannot statically link to source code licensed under License-B. Some linkage combination may be allowed on a case-by case basis, which is why certain combinations note “[Requires pre-approval].”

Table 10. Sample static linkage matrix 
Can Statically Link To

License-A

License-B

License-C

License-D

License-A

a

a

License-B

a

[Requires Pre-Approval]

License-C

a

a

License-D

[Requires Pre-Approval]

a





In the event that the architecture review reveals any linkage issue (i.e., a static or dynamic linkage that does not follow company policy as defined in the linkage matrices), then the person responsible for driving the architecture review (usually the compliance officer) would notify the software developer responsible for that software component and request a correction.
CHECKLISTS

Most companies establish checklists that are used within the development process at every major milestone. When it comes to open source compliance, several checklists can be developed and used before committing new external open source code to the product’s source code repository. One example is the following checklist, used before making source code available on an external website:

. All source code components have a corresponding compliance ticket.
. All compliance tickets have been approved by engineering and legal.
. All compliance tickets are clear of any unresolved subtasks attached to them.






. Notices for all of the software components have been sent to the Documentation team and included in product documentation.
. Legal has approved the written offer notice and overall compliance documentation.
. Source code packages have been prepared and tested to compile on a standard development machine.
. Source code provided is complete and corresponds to the binaries in the product.


Such checklists minimize the probability of error and ensure that everyone involved in open source management is aware of what needs to be done before moving to the next step in the process.

CONCLUSION 
Software developers need to be educated about the licenses on the various open source components they integrate and employ. Having Legal Counsel provide this education in a very practical way is extremely helpful, as it allows software developers to have access to documented practical advice that will help answer most of their daily legal-related questions. This practical advice usually revolves around:

. Inclusion of open source components into proprietary or third-party source code or vice versa
. Linking open source components into proprietary or third-party source code or vice versa
. Interaction methods between various software components (proprietary, third-party, open source)
. License obligations that must be met when using open source components






Open source compliance is easy to achieve once you have built up your compliance program, created a compliance policy and process, established staffing to ensure execution, and enabled your team with various tools to assist in the compliance automation aspect. 




ABOUT THE AUTHOR

Ibrahim Haddad (Ph.D.) is Vice President of R&D, and the Head of the Open Source Group at Samsung Research America, a wholly owned R&D subsidiary of Samsung Electronics Co. Ltd., South Korea. He is responsible for overseeing Samsung’s Open source strategy and execution, internal and external collaborative R&D projects, participation in key open source development projects, and representing Samsung in various open source foundations and open standards organizations. Prior to joining Samsung, Haddad was a member of the management team at The Linux Foundation responsible for technical and legal compliance projects and initiatives. Haddad’s career started at Ericsson Research where he spent five years focusing on advanced research for system architecture of wireless IP networks and on furthering the adoption of Linux and Open source software in carrier grade environments. He then joined Motorola as Technical Director managing the Open Source Technology Group and contributing to Motorola’s Open source initiatives. After Motorola, he ran the Open Source function at Palm as Director of Open Source responsible for the webOS open source strategy and compliance. He later supported Hewlett Packard in a consulting role with open sourcing webOS to become the open webOS project.

Haddad graduated with Honors from Concordia University (Montreal, Canada) with a Ph.D. in Computer Science. He completed his B.Sc. and M.Sc. (both in Computer Science) at the Lebanese American University. He is a Contributing Editor to the Linux Journal, Co-Author of two books on Red Hat Linux and Fedora, and Technical Editor for four books on Linux System Administration, Fedora Linux and Ubuntu Linux. He is known for his writing and speaking on topics ranging from open source legal compliance to using open source as a business strategy and an R&D tool to drive collaboration and innovation.
Haddad is fluent in Arabic, English, and French.
Twitter: @IbrahimAtLinux



The Linux Foundation promotes, protects and standardizes Linux by providing unified resources and services needed for open source to successfully compete with closed platforms.

To learn more about The Linux Foundation, please visit us at linuxfoundation.org.



